<h1>ğŸ’ SDK ä½¿ç”¨æŒ‡å— (SDK Usage)</h1>

<p><code>node-pg-trigger</code> æä¾›äº†ä¸€å¥—é«˜åº¦æ¨¡æ“¬ Firebase Firestore çš„ APIï¼Œè®“ Web é–‹ç™¼è€…èƒ½ç„¡ç¸«åˆ‡æ›è‡³ PostgreSQL å¯¦æ™‚æ¶æ§‹ã€‚</p>

<hr>

<h2>æ•¸æ“šç›£è½ (Realtime Snapshots)</h2>

<h3>ç›£è½é›†åˆ</h3>
<pre><code>sdk.collection('posts')
   .where('status', '==', 'published')
   .orderBy('created_at', 'desc')
   .limit(10)
   .onSnapshot(snapshot => {
     console.log('æœ€æ–°æ–‡ç« åˆ—è¡¨:', snapshot.record);
   });</code></pre>

<h3>ç›£è½å–®ä¸€æ–‡ä»¶</h3>
<pre><code>sdk.doc('posts', 'post_abc_123').onSnapshot(doc => {
  console.log('æ–‡ç« å…§å®¹å·²æ›´æ–°:', doc);
});</code></pre>

<hr>

<h2>å¯«å…¥æ“ä½œ (Mutations)</h2>

<h3>æ–°å¢æ•¸æ“š</h3>
<pre><code>const docRef = await sdk.collection('posts').add({
  title: 'Hello Vanilla',
  content: '...'
});
console.log('ç”¢ç”Ÿçš„ ID:', docRef.id);</code></pre>

<h3>æ›´æ–°æ•¸æ“š</h3>
<pre><code>await sdk.doc('posts', 'id_123').update({
  views: FieldValue.increment(1)
});</code></pre>

<hr>

<h2>åŸå­æ“ä½œ (FieldValue)</h2>
<ul>
    <li><code>FieldValue.serverTimestamp()</code>: ä½¿ç”¨è³‡æ–™åº«ä¼ºæœå™¨æ™‚é–“ã€‚</li>
    <li><code>FieldValue.increment(n)</code>: åŸå­å¢é‡/æ¸›é‡ã€‚</li>
    <li><code>FieldValue.delete()</code>: åˆªé™¤ç‰¹å®šæ¬„ä½ã€‚</li>
</ul>

<hr>

<h2>ğŸ“ æ¥ä¸‹ä¾†</h2>
<p>äº†è§£å¦‚ä½•è™•ç† <a href="#/docs/relational-data">é—œè¯è³‡æ–™æŸ¥è©¢</a>ã€‚</p>
